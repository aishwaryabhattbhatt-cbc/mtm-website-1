---
// src/components/home/Reports/Reports.astro

import Tools from '../../solutions/solution-reports/tools.astro';
import ProductToggle from '../../ui/ProductToggle/product-toggle.astro';
import ReportInfo from '../../solutions/solution-reports/reportinfo.astro';

// 1. DATA: Edit your section text here
const title = "Latest from the MTM";
const buttonText = "Learn More about 18+";

// 2. STYLES: Local CSS import
import './reports.css';


---

<section class="section-reports">
  <div class="reports-container">
    <div class="reports-header">
      <h2 class="h2">{title}</span></h2>
      
    </div>
      
    <div class="report-block">

      <div class="toggle">
        <ProductToggle options={["MTM", "Junior", "Newcomers"]} active="MTM" />

        <a href="/mtm-website-1/en/insights" class="btn-tertiary button-l">
          {buttonText}
        </a>
      </div>


      <div class="reports-image">
        <img src="/mtm-website-1/reports 1.png" alt="Reports Section" />
      </div>

      <div class="reports-info">
          <ReportInfo />
      </div>

      <div class="reports-tools-container">
          <Tools />
      </div>
    </div>

  </div>
    
</section>


<script>
  import { updateReportsUI } from './tools.js';


  document.addEventListener('productToggle:change', async (event) => {
    const customEvent = event as CustomEvent;
    const selectedId = customEvent.detail.value;
    
    updateReportsUI(selectedId);   

  });

  document.addEventListener('DOMContentLoaded', async () => {
    updateReportsUI("MTM");
 
  });
</script>